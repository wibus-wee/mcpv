# Prometheus Metrics:
# Set MCPD_METRICS_ENABLED=true to expose metrics on http://localhost:9090/metrics
# The observability.listenAddress setting controls the host/port.
# Metrics include:
#   - mcpd_route_duration_seconds: Request latency histogram
#   - mcpd_instance_starts_total: Instance start counter
#   - mcpd_instance_stops_total: Instance stop counter
#   - mcpd_active_instances: Active instance gauge
# Healthz:
# Set MCPD_HEALTHZ_ENABLED=true to expose health on http://localhost:9090/healthz
# The observability.listenAddress setting controls the host/port.

routeTimeoutSeconds: 10
pingIntervalSeconds: 30
toolRefreshSeconds: 60
callerCheckSeconds: 5
exposeTools: true
toolNamespaceStrategy: "prefix"
observability:
  listenAddress: "0.0.0.0:9090"
rpc:
  listenAddress: "unix:///tmp/mcpd.sock"
  maxRecvMsgSize: 16777216
  maxSendMsgSize: 16777216
  keepaliveTimeSeconds: 30
  keepaliveTimeoutSeconds: 10
  socketMode: "0660"
  tls:
    enabled: false
    certFile: ""
    keyFile: ""
    caFile: ""
    clientAuth: false
servers:
  - name: weather
    cmd:
      [
        "/bin/sh",
        "-c",
        "node ./weather-demo-mcp/build/index.js",
      ]
    idleSeconds: 60
    maxConcurrent: 1
    sticky: false
    persistent: false
    minReady: 0
    protocolVersion: "2025-11-25"
