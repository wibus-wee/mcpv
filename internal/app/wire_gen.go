// Code generated by Wire. DO NOT EDIT.

//go:generate go run -mod=mod github.com/google/wire/cmd/wire
//go:build !wireinject
// +build !wireinject

package app

import (
	"context"
	"mcpd/internal/domain"
)

// Injectors from wire.go:

// InitializeApplication wires dependencies for the application.
func InitializeApplication(ctx context.Context, cfg ServeConfig, logging LoggingConfig) (*Application, error) {
	appLogging := NewLogging(logging)
	logger := NewLogger(appLogging)
	registry := NewMetricsRegistry()
	metrics := NewMetrics(registry)
	healthTracker := NewHealthTracker()
	dynamicCatalogProvider, err := NewDynamicCatalogProvider(ctx, cfg, logger)
	if err != nil {
		return nil, err
	}
	catalogState, err := NewCatalogState(ctx, dynamicCatalogProvider)
	if err != nil {
		return nil, err
	}
	launcher := NewCommandLauncher(logger)
	listChangeHub := NewListChangeHub()
	samplingHandler := NewSamplingHandler(ctx, catalogState, logger)
	elicitationHandler := NewElicitationHandler(logger)
	transport := NewMCPTransport(logger, listChangeHub, samplingHandler, elicitationHandler)
	lifecycle := NewLifecycleManager(ctx, launcher, transport, samplingHandler, elicitationHandler, logger)
	pingProbe := NewPingProbe()
	scheduler, err := NewScheduler(lifecycle, catalogState, pingProbe, metrics, healthTracker, logger)
	if err != nil {
		return nil, err
	}
	metadataCache := domain.NewMetadataCache()
	appRuntimeState := newRuntimeState(catalogState, scheduler, metrics, healthTracker, metadataCache, listChangeHub, logger)
	serverInitializationManager := NewServerInitializationManager(scheduler, catalogState, logger)
	bootstrapManager := NewBootstrapManagerProvider(lifecycle, scheduler, catalogState, metadataCache, logger)
	appControlPlaneState := provideControlPlaneState(ctx, appRuntimeState, catalogState, scheduler, serverInitializationManager, bootstrapManager, logger)
	appClientRegistry := newClientRegistry(appControlPlaneState)
	appDiscoveryService := newDiscoveryService(appControlPlaneState, appClientRegistry)
	logBroadcaster := NewLogBroadcaster(appLogging)
	appObservabilityService := newObservabilityService(appControlPlaneState, appClientRegistry, logBroadcaster)
	appAutomationService := newAutomationService(appControlPlaneState, appClientRegistry, appDiscoveryService)
	controlPlane := NewControlPlane(appControlPlaneState, appClientRegistry, appDiscoveryService, appObservabilityService, appAutomationService)
	server := NewRPCServer(controlPlane, catalogState, logger)
	reloadManager := NewReloadManager(dynamicCatalogProvider, appControlPlaneState, appClientRegistry, scheduler, serverInitializationManager, metrics, healthTracker, metadataCache, listChangeHub, logger)
	application := NewApplication(ApplicationOptions{
		Context:           ctx,
		ServeConfig:       cfg,
		Logger:            logger,
		Registry:          registry,
		Metrics:           metrics,
		Health:            healthTracker,
		CatalogState:      catalogState,
		ControlPlaneState: appControlPlaneState,
		Scheduler:         scheduler,
		InitManager:       serverInitializationManager,
		BootstrapManager:  bootstrapManager,
		ControlPlane:      controlPlane,
		RPCServer:         server,
		ReloadManager:     reloadManager,
	})
	return application, nil
}
